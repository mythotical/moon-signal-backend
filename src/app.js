// Importing required modules\nconst express = require('express');\nconst bodyParser = require('body-parser');\n\n// Middleware setup\nconst app = express();\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({ extended: true }));\n\n// Import routes\nconst indexRoutes = require('./routes/index');\nconst userRoutes = require('./routes/users');\nconst tierGatedRoutes = require('./routes/tierGatedRoutes');\n\n// Set up watcher integration (if any implementation is required)\n\n// Apply tier gating\napp.use('/api/tier-gated', tierGatedRoutes);\n\n// General routes\napp.use('/', indexRoutes);\napp.use('/users', userRoutes);\n\n// Error handling middleware\napp.use((err, req, res, next) => {\n    console.error(err.stack);\n    res.status(500).send('Something broke!');\n});\n\n// Starting the server\nconst PORT = process.env.PORT || 3000;\napp.listen(PORT, () => {\n    console.log(`Server is running on port ${PORT}`);\n});\n\nmodule.exports = app;